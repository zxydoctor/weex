
<!DOCTYPE HTML>
<html lang="">
    <head>
        <title>JS Bundle Format &#xB7; Weex</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.1.1">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="js-framework-apis.html">
    
    

    </head>
    <body>
        
<div class="book"><style>
.weex-doc-header{
    height: 70px;
    width: 100%;
}
.book .book-summary , .book .book-body{
    top: 70px;
}

a[aria-label="Share"] ,  i.fa-facebook , i.fa-twitter{
   display: none  !important;
}

.top-bar, .top-bar ul{
    background-color: white;
    padding-left: 0;
}

dl, ol, ul {
    line-height: 1.6;
    margin-bottom: 1rem;
    list-style-position: outside;
}

.top-bar {
    /* padding: .5rem; */
}

.top-bar:after {
    clear: both;
}
.top-bar:after, .top-bar:before {
    content: ' ';
    display: table;
}
*, :after, :before {
    box-sizing: inherit;
}

.top-bar a {
    
    font-size: 16px;
    color: #333333;
    text-align: left;
    /* font-family: HelveticaNeue-Light; */
}

.top-bar-title {
    float: left;
    margin-right: 5px;
    margin-left: 10px;    
    margin-top: 29px;    
    background: url("http://alibaba.github.io/weex/img/weex_logo_blue@3x.png") no-repeat;
    height: 33px;
    width: 145px;
    background-position: 0px 0px;
    -webkit-background-size: cover;
    background-size: cover;
    cursor:pointer;
}

 .top-bar-left {
    margin-top: 25px;         
    float: left;
}

.top-bar-right {
    float: right;
}
.top-bar .top-bar-right {
    margin-right: 100px;
    margin-top: 25px;
}
.top-bar .top-bar-right .github {
    width: 32px;
    height: 32px;
}


.menu {
    margin: 0;
    list-style-type: none;
}

.menu>li {
    display: table-cell;    
    vertical-align: middle;    
}


.menu>li>a {
    display: block;
    padding: .7rem 1rem;
    line-height: 1;
    line-height: 1;
    text-decoration: none;
    line-height: inherit;
    cursor: pointer;
}


span.weex-version{
    position: absolute;
    min-width: 10px;
    padding: 3px 7px;
    font-size: 12px;
    font-weight: 700;
    line-height: 1;
    color: #fff;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    background-color: #777;
    border-radius: 10px;
}

a.weex-translate{
    font-size: 16px;
    position: relative;
    top: -6px;
    left: 20px;
    padding: 2px 4px;    
    line-height: 1;
    color: #fff;
    text-align: center;
    white-space: nowrap;
    vertical-align: baseline;
    border-radius: .25em;
    background-color: #de2810;
}

a.weex-translate.incomplete{
  background-color: #777;                    
}
 

.wx-v{
    padding: 3px 7px;
    font-size: 12px;
    font-weight: 700;
    line-height: 1;
    color: #fff;
    text-align: center;
    white-space: nowrap;
    vertical-align: middle;
    background-color: #777;
    border-radius: 10px;
}
</style>

    <!-- 
    <link rel="stylesheet"  href="//g.alicdn.com/mtb/lab-zikuan/0.1.3/weex/weex_doc.css" >

    <link rel="stylesheet"  href="http://127.0.0.1/taobao/weex-os/weex/doc/ali_addition/weex_doc.css" >
    -->

<script>
function contentLoaded(win, fn) {

	var done = false, top = true,

	doc = win.document,
	root = doc.documentElement,
	modern = doc.addEventListener,

	add = modern ? 'addEventListener' : 'attachEvent',
	rem = modern ? 'removeEventListener' : 'detachEvent',
	pre = modern ? '' : 'on',

	init = function(e) {
		if (e.type == 'readystatechange' && doc.readyState != 'complete') return;
		(e.type == 'load' ? win : doc)[rem](pre + e.type, init, false);
		if (!done && (done = true)) fn.call(win, e.type || e);
	},

	poll = function() {
		try { root.doScroll('left'); } catch(e) { setTimeout(poll, 50); return; }
		init('poll');
	};

	if (doc.readyState == 'complete') fn.call(win, 'lazy');
	else {
		if (!modern && root.doScroll) {
			try { top = !win.frameElement; } catch(e) { }
			if (top) poll();
		}
		doc[add](pre + 'DOMContentLoaded', init, false);
		doc[add](pre + 'readystatechange', init, false);
		win[add](pre + 'load', init, false);
	}
}



function getTextWidth(text, font) {
    // re-use canvas object for better performance
    var canvas = getTextWidth.canvas || (getTextWidth.canvas = document.createElement("canvas"));
    var context = canvas.getContext("2d");
    context.font = font;
    var metrics = context.measureText(text);
    return metrics.width;
}



function rePostionVersion(vDis){
    vDis =   vDis ? vDis : -28;
    if ($(".weex-version").length < 1){return ;}
    var vOffset = $(".weex-version").offset();
    var titleJObj = $(".weex-version").parents(".markdown-section").find("h1,h2,h3");
    var titleOffset = titleJObj.offset();
    var vDistance = (vOffset.top - titleOffset.top + vDis  );
    var hDistance = (titleJObj.width());
    $(".weex-version").css("transform", "translate("+hDistance+"px,-"+vDistance+"px)"); 
}


function rePostionTranslate(){
    if ($(".weex-version").length < 1){return ;}
    var translateMark = $(".weex-translate").filter(':visible');
    var titleJObj = translateMark.parents(".markdown-section").find("h1,h2,h3").eq(0);
    titleJObj.append(translateMark);
}

window._rePostionAll =   function () {
    rePostionVersion();
    rePostionTranslate();
}

contentLoaded(window,function(){
    setTimeout(function(){
        window._rePostionAll();
    },100);
})
</script>

    <!-- 
    <script src="//g.alicdn.com/mtb/lab-zikuan/0.1.3/weex/weex_doc.js"></script>
    <script src="http://127.0.0.1/taobao/weex-os/weex/doc/ali_addition/weex_doc.js"></script>
    -->    
    
<div class="weex-doc-header">
    <div class="top-bar">
        <div class="top-bar-title" onclick="location=&apos;http://alibaba.github.io/weex/index.html&apos;"></div>                        
        <div class="top-bar-left">
            <ul class="menu" role="menubar">
                <li role="menuitem">
                    <a href="http://alibaba.github.io/weex/demo.html">Showcase</a>                            
                </li>
                <li role="menuitem">
                    <a href="http://alibaba.github.io/weex/download.html">Download</a>
                </li>
            </ul>
        </div>
        <div class="top-bar-right">
            <ul class="menu">
                <li>
                    <a href="https://github.com/alibaba/weex">
                        <img class="github" src="//g.alicdn.com/mtb/lab-zikuan/0.1.1/weex/github.png" alt="github">
                    </a>
                 </li>
                
            </ul>                    
        </div>
    </div>        
</div>


    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../guide.html">
            
                <a href="../guide.html">
            
                    
                    Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../tutorial.html">
            
                <a href="../tutorial.html">
            
                    
                    Tutorial
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../syntax/main.html">
            
                <a href="../syntax/main.html">
            
                    
                    Syntax
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../syntax/data-binding.html">
            
                <a href="../syntax/data-binding.html">
            
                    
                    Data Binding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../syntax/style-n-class.html">
            
                <a href="../syntax/style-n-class.html">
            
                    
                    Style and Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../syntax/events.html">
            
                <a href="../syntax/events.html">
            
                    
                    Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../syntax/display-logic.html">
            
                <a href="../syntax/display-logic.html">
            
                    
                    Display Logic Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../syntax/render-logic.html">
            
                <a href="../syntax/render-logic.html">
            
                    
                    Render Logic Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../syntax/composed-component.html">
            
                <a href="../syntax/composed-component.html">
            
                    
                    Composed Component
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.7" data-path="../syntax/id.html">
            
                <a href="../syntax/id.html">
            
                    
                    Find an Element
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.8" data-path="../syntax/comm.html">
            
                <a href="../syntax/comm.html">
            
                    
                    Communications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.9" data-path="../syntax/config-n-data.html">
            
                <a href="../syntax/config-n-data.html">
            
                    
                    Page Config &amp; Data
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../how-to/main.html">
            
                <a href="../how-to/main.html">
            
                    
                    How-tos
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../how-to/preview-in-browser.html">
            
                <a href="../how-to/preview-in-browser.html">
            
                    
                    Preview In Browser
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../how-to/preview-in-playground-app.html">
            
                <a href="../how-to/preview-in-playground-app.html">
            
                    
                    Preview in Native
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="../how-to/customize-a-native-component.html">
            
                <a href="../how-to/customize-a-native-component.html">
            
                    
                    Customize a native Component
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.4" data-path="../how-to/cuszomize-native-apis.html">
            
                <a href="../how-to/cuszomize-native-apis.html">
            
                    
                    Customize native APIs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.5" data-path="../how-to/debug-with-html5.html">
            
                <a href="../how-to/debug-with-html5.html">
            
                    
                    Debug in html5 renderer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.6" data-path="../how-to/require-3rd-party-libs.html">
            
                <a href="../how-to/require-3rd-party-libs.html">
            
                    
                    Require 3rd Party Libs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.7" data-path="../how-to/transform-code-into-js-bundle.html">
            
                <a href="../how-to/transform-code-into-js-bundle.html">
            
                    
                    Transform Code Into JS Bundle
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../advanced/main.html">
            
                <a href="../advanced/main.html">
            
                    
                    Advanced
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.4.1" data-path="../advanced/how-it-works.html">
            
                <a href="../advanced/how-it-works.html">
            
                    
                    How It Works
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.2" data-path="../advanced/how-data-binding-works.html">
            
                <a href="../advanced/how-data-binding-works.html">
            
                    
                    How Data Binding Works
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.3" data-path="../advanced/integrate-to-android.html">
            
                <a href="../advanced/integrate-to-android.html">
            
                    
                    Integrate to Android
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.4" data-path="../advanced/integrate-to-ios.html">
            
                <a href="../advanced/integrate-to-ios.html">
            
                    
                    Integrate to iOS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.5" data-path="../advanced/integrate-to-html5.html">
            
                <a href="../advanced/integrate-to-html5.html">
            
                    
                    Integrate to web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.6" data-path="../advanced/extend-to-android.html">
            
                <a href="../advanced/extend-to-android.html">
            
                    
                    Extend to Android
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.7" data-path="../advanced/extend-to-ios.html">
            
                <a href="../advanced/extend-to-ios.html">
            
                    
                    Extend to iOS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4.8" data-path="../advanced/extend-to-html5.html">
            
                <a href="../advanced/extend-to-html5.html">
            
                    
                    Extend to web
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../references/main.html">
            
                <a href="../references/main.html">
            
                    
                    References
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../references/bootstrap.html">
            
                <a href="../references/bootstrap.html">
            
                    
                    Bootstrap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../references/component-defs.html">
            
                <a href="../references/component-defs.html">
            
                    
                    Component Definition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../references/api.html">
            
                <a href="../references/api.html">
            
                    
                    Instance APIs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../components/main.html">
            
                <a href="../components/main.html">
            
                    
                    Built-in Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../references/common-attrs.html">
            
                <a href="../references/common-attrs.html">
            
                    
                    Common Attributes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="../references/common-style.html">
            
                <a href="../references/common-style.html">
            
                    
                    Common Style
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.2.1" data-path="../references/text-style.html">
            
                <a href="../references/text-style.html">
            
                    
                    Text Style
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2.2" data-path="../references/color-names.html">
            
                <a href="../references/color-names.html">
            
                    
                    Color
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4.3" data-path="../references/common-event.html">
            
                <a href="../references/common-event.html">
            
                    
                    Common Event
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.4" data-path="../components/special-element.html">
            
                <a href="../components/special-element.html">
            
                    
                    Special Element
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.5" data-path="../components/div.html">
            
                <a href="../components/div.html">
            
                    
                    div
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.6" data-path="../components/scroller.html">
            
                <a href="../components/scroller.html">
            
                    
                    scroller
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.7" data-path="../components/list.html">
            
                <a href="../components/list.html">
            
                    
                    list
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.7.1" data-path="../components/cell.html">
            
                <a href="../components/cell.html">
            
                    
                    cell
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4.8" data-path="../components/text.html">
            
                <a href="../components/text.html">
            
                    
                    text
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.9" data-path="../components/image.html">
            
                <a href="../components/image.html">
            
                    
                    image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.10" data-path="../components/input.html">
            
                <a href="../components/input.html">
            
                    
                    input
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.11" data-path="../components/switch.html">
            
                <a href="../components/switch.html">
            
                    
                    switch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.12" data-path="../components/slider.html">
            
                <a href="../components/slider.html">
            
                    
                    slider
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.12.1" data-path="../components/indicator.html">
            
                <a href="../components/indicator.html">
            
                    
                    indicator
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4.13" data-path="../components/video.html">
            
                <a href="../components/video.html">
            
                    
                    video
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.14" data-path="../components/a.html">
            
                <a href="../components/a.html">
            
                    
                    a
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.15" data-path="../components/web.html">
            
                <a href="../components/web.html">
            
                    
                    web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.16" data-path="../components/wxc-tabbar.html">
            
                <a href="../components/wxc-tabbar.html">
            
                    
                    wxc-tabbar
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.17" data-path="../components/wxc-navpage.html">
            
                <a href="../components/wxc-navpage.html">
            
                    
                    wxc-navpage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../modules/main.html">
            
                <a href="../modules/main.html">
            
                    
                    Built-in Modules
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.5.1" data-path="../modules/dom.html">
            
                <a href="../modules/dom.html">
            
                    
                    dom
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.2" data-path="../modules/stream.html">
            
                <a href="../modules/stream.html">
            
                    
                    stream
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.3" data-path="../modules/modal.html">
            
                <a href="../modules/modal.html">
            
                    
                    modal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.4" data-path="../modules/animation.html">
            
                <a href="../modules/animation.html">
            
                    
                    animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.5" data-path="../modules/webview.html">
            
                <a href="../modules/webview.html">
            
                    
                    webview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.6" data-path="../modules/navigator.html">
            
                <a href="../modules/navigator.html">
            
                    
                    navigator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.7" data-path="../modules/storage.html">
            
                <a href="../modules/storage.html">
            
                    
                    storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.8" data-path="../modules/timer.html">
            
                <a href="../modules/timer.html">
            
                    
                    timer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.9" data-path="../modules/clipboard.html">
            
                <a href="../modules/clipboard.html">
            
                    
                    clipboard
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.6">
            
                <span>
            
                    
                    Low-level Specs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.6.1" data-path="js-bundle-format.html">
            
                <a href="js-bundle-format.html">
            
                    
                    JS Bundle Format
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.2" data-path="js-framework-apis.html">
            
                <a href="js-framework-apis.html">
            
                    
                    JS Framework APIs
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6.3" data-path="virtual-dom-apis.html">
            
                <a href="virtual-dom-apis.html">
            
                    
                    Virtual DOM APIs
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4">
            
                <span>
            
                    
                    Examples
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../demo/hello-world.html">
            
                <a href="../demo/hello-world.html">
            
                    
                    Hello World
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../demo/modal.html">
            
                <a href="../demo/modal.html">
            
                    
                    Modal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../demo/clipboard.html">
            
                <a href="../demo/clipboard.html">
            
                    
                    Clipboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../demo/list.html">
            
                <a href="../demo/list.html">
            
                    
                    List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../demo/slider.html">
            
                <a href="../demo/slider.html">
            
                    
                    Slider
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../demo/animation.html">
            
                <a href="../demo/animation.html">
            
                    
                    Animation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7">
            
                <a target="_blank" href="https://github.com/alibaba/weex/tree/dev/examples">
            
                    
                    More
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5">
            
                <span>
            
                    
                    Service &amp; Tools
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../tools/cli.html">
            
                <a href="../tools/cli.html">
            
                    
                    CLI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../tools/devtools.html">
            
                <a href="../tools/devtools.html">
            
                    
                    Devtools
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="../tools/devtools-android.html">
            
                <a href="../tools/devtools-android.html">
            
                    
                    Weex devtools (Android)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2.2" data-path="../tools/devtools-ios.html">
            
                <a href="../tools/devtools-ios.html">
            
                    
                    Weex devtools (IOS)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../tools/transformer.html">
            
                <a href="../tools/transformer.html">
            
                    
                    Transformer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../tools/playground-app.html">
            
                <a href="../tools/playground-app.html">
            
                    
                    Playground App
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../faq.html">
            
                <a href="../faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="..">JS Bundle Format</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="js-bundle-format">JS Bundle format</h1>
<p>JS Bundle Version: v0.3.0</p>
<h2 id="v050">v0.5.0</h2>
<h3 id="whole-syntax-and-structure">Whole Syntax and Structure</h3>
<p>A JS Bundle is actually a JavaScript file which follows <strong>ES5</strong> standard. The code is used to define some custom components for the instance and bootstrap the instance with certain name, config and data. Developers could use all kinds of JS code packager like webpack, browserify, requirejs to organize your whole instance code.</p>
<h3 id="meta-info">Meta Info</h3>
<p>The JS Bundle Must begin with a comment line which is a JSON object like:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// { &quot;framework&quot;: &quot;Weex&quot;, &quot;version&quot;: &quot;0.5.0&quot; }</span>
</code></pre>
<p>This JSON object as least contains:</p>
<ul>
<li>property <code>framework</code> must be <code>&quot;Weex&quot;</code></li>
<li>property <code>version</code> should be corresponded with the JS Bundle format version</li>
</ul>
<h3 id="global-members">Global Members</h3>
<ul>
<li><code>__weex_define__(name, options)</code></li>
<li><code>__weex_bootstrap__(name, config, data)</code></li>
<li><code>__weex_document__</code></li>
<li><code>__weex_require__(name)</code></li>
</ul>
<h4 id="weexdefinenamestring-options-object"><code>__weex_define__(name:string, options: object)</code></h4>
<p>Define a custom component named <code>name</code> for current instance with <code>options</code>.</p>
<p><strong>example:</strong></p>
<pre><code class="lang-javascript">__weex_define__(<span class="hljs-string">&apos;rmb&apos;</span>, {
  template: {
    type: <span class="hljs-string">&apos;div&apos;</span>,
    style: {flexDirection: <span class="hljs-string">&apos;row&apos;</span>},
    children: [
      {type: <span class="hljs-string">&apos;text&apos;</span>, attr: {value: <span class="hljs-string">&apos;&#xFFE5;&apos;</span>}},
      {type: <span class="hljs-string">&apos;text&apos;</span>, attr: {value: <span class="hljs-keyword">this</span>.value}}
    ]
  },
  data: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> {
      value: <span class="hljs-string">&apos;0&apos;</span>
    }
  },
  methods: {...}
})
</code></pre>
<p>The enabled component options contains:</p>
<ul>
<li><code>template</code>: just the same as <a href="#details-of-template-option-definitions">v0.3.0</a></li>
<li><code>style</code>: just the same as <a href="#details-of-style-option-definitions">v0.3.0</a></li>
<li><code>data</code>: a function which return a plain object to observe by the ViewModel</li>
<li><code>methods</code>: a function map to proxy to the ViewModel</li>
<li><code>computed</code>: a map of several computed keys for the ViewModel</li>
<li><code>init</code>, <code>created</code>, <code>ready</code>: lifecycle methods</li>
<li><code>events</code>: event handlers for the ViewModel<!-- * `components`: a map for options of sub components the ViewModel needed (So `__weex_define__(name, options)` equals to run `this.components[name] = options` in each custom components when `init`) -->
</li>
</ul>
<p>The enabled ViewModel APIs contains:</p>
<ul>
<li><code>$el(id): Element</code>: find element by id in current ViewModel scope</li>
<li><code>$vm(id): ViewModel</code>: find sub ViewModel by id</li>
<li><code>$getConfig(): object</code>: get instance config info</li>
<li><code>$broadcast</code>/<code>$emit</code>/<code>$dispatch</code>/<code>$on</code>/<code>$off</code>: listen and fire component events</li>
<li><code>$transition</code> <em>(experimental)</em>: animation transition (see more in <a href="../animation.md">animation native module</a>)</li>
</ul>
<h4 id="weexrequirename-string-object"><code>__weex_require__(name: string): object</code></h4>
<p>Get a Weex native module with several native APIs.</p>
<p><strong>example:</strong></p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> modal = __weex_require__(<span class="hljs-string">&apos;modal&apos;</span>)
modal.toast({
  message: <span class="hljs-string">&apos;Hey!&apos;</span>,
  duration: <span class="hljs-number">2</span>
})
</code></pre>
<p>polyfill for v0.3.0</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__weex_require__</span>(<span class="hljs-params">name</span>) </span>{
  <span class="hljs-keyword">var</span> result
  define(<span class="hljs-string">&apos;__weex_require__&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">r, e, m</span>) </span>{
    result = r(<span class="hljs-string">&apos;@weex-module/&apos;</span> + name)
  })
  <span class="hljs-keyword">return</span> result
}
</code></pre>
<h4 id="weexbootstrapnameoroptions-stringobject-config-object-data-object-appinstance--error"><code>__weex_bootstrap__(nameOrOptions: string|object, config: object?, data: object?): AppInstance | Error</code></h4>
<p>Start to render by a certain component name or a direct component options as the root element, and some instance <code>config</code> and instance <code>data</code>. If everything fine, it will returns the root app instance. Otherwise it will return an <code>Error</code> instance which describes something wrong.</p>
<p><strong>example:</strong></p>
<pre><code class="lang-javascript">__weex_bootstrap__(
  <span class="hljs-string">&apos;root&apos;</span>,
  {
    <span class="hljs-comment">// format 1:</span>
    <span class="hljs-comment">// downgrade: { appVersion: &apos;&gt;= 0.5.0&apos; },</span>
    <span class="hljs-comment">// format 2:</span>
    <span class="hljs-comment">// downgrade: function (config) { return true }</span>
  },
  {
    <span class="hljs-comment">// external data</span>
    <span class="hljs-comment">// value: &apos;12345&apos;</span>
  }
)
</code></pre>
<p>The instance <code>config</code> now only support <code>downgrade</code> property which allows two format:</p>
<ol>
<li>an object like <code>{ osVersion, appVersion, weexVersion, deviceModel }</code></li>
<li>a function like <code>function (config) { return true }</code> to return a boolean value. <code>true</code> means normal and <code>false</code> means downgrade.</li>
</ol>
<p>The instance <code>data</code> will merge to root component data. So the root component is also easy to reuse and the instance data is easy to customize.</p>
<h4 id="weexdocument"><code>__weex_document__</code></h4>
<p>An virtual-DOM <code>Document</code> instance. Also the host of <a href="virtual-dom-apis.html">virtual-DOM APIs</a>. Every Weex instance has and must have just one <code>Document</code> instance.</p>
<h3 id="preserved-global-variables">Preserved Global Variables</h3>
<p><code>define</code>, <code>bootstrap</code>, <code>module</code>, <code>exports</code>, <code>document</code>, <code>require</code>, <code>register</code>, <code>render</code></p>
<h3 id="a-whole-example">A whole example</h3>
<pre><code class="lang-javascript"><span class="hljs-comment">// { &quot;framework&quot;: &quot;Weex&quot;, &quot;version&quot;: &quot;0.5.0&quot; }</span>

<span class="hljs-keyword">var</span> modal = __weex_require__(<span class="hljs-string">&apos;modal&apos;</span>)

__weex_define__(<span class="hljs-string">&apos;item&apos;</span>, {
  template: {
    type: <span class="hljs-string">&apos;div&apos;</span>,
    style: { flexDirection: <span class="hljs-string">&apos;row&apos;</span> },
    event: {
      click: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">this</span>.update(e)
      }
    },
    children: [
      { type: <span class="hljs-string">&apos;image&apos;</span>, attr: { src: <span class="hljs-keyword">this</span>.imageUrl }, ...},
      { type: <span class="hljs-string">&apos;text&apos;</span>, attr: { value: <span class="hljs-keyword">this</span>.title }, ...}
    ]
  },
  data: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> {
      imageUrl: <span class="hljs-string">&apos;&apos;</span>,
      title: <span class="hljs-string">&apos;&apos;</span>
    }
  },
  methods: {
    update: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
      modal.toast({ message: <span class="hljs-keyword">this</span>.title })
    }
  }
})

__weex_define__(<span class="hljs-string">&apos;app&apos;</span>, {
  template: {
    type: <span class="hljs-string">&apos;div&apos;</span>,
    children: [
      {
        type: <span class="hljs-string">&apos;item&apos;</span>,
        repeat: {
          expression: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.list
          },
          key: <span class="hljs-string">&apos;$index&apos;</span>,
          value: <span class="hljs-string">&apos;$value&apos;</span>}
        },
        attr: {
          imageUrl: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.$value.imageUrl
          },
          title: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.$value.title
          }
        }
      }
    ]
  },
  data: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> {
      list: [
        { imageUrl: <span class="hljs-string">&apos;xxx&apos;</span>, title: <span class="hljs-string">&apos;111&apos;</span> },
        { imageUrl: <span class="hljs-string">&apos;yyy&apos;</span>, title: <span class="hljs-string">&apos;222&apos;</span> },
        { imageUrl: <span class="hljs-string">&apos;zzz&apos;</span>, title: <span class="hljs-string">&apos;333&apos;</span> }
      ]
    }
  }
})

__weex_bootstrap__(<span class="hljs-string">&apos;app&apos;</span>)
</code></pre>
<h2 id="v030">v0.3.0</h2>
<h3 id="whole-syntax-and-structure">Whole Syntax and Structure</h3>
<p>A JS Bundle is actually a JavaScript file which follows <strong>ES5</strong> standard. The code is organized by several modules with AMD-like format:</p>
<pre><code class="lang-javascript">define(<span class="hljs-string">&apos;moduleName1&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{
  <span class="hljs-comment">// content of module1</span>
})

define(<span class="hljs-string">&apos;moduleName2&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{
  <span class="hljs-comment">// content of module2</span>
})

...
</code></pre>
<p>A whole Weex JS Bundle is concatenated by these modules and last a <code>bootstrap(rootComponentName, optionalConfig, optionalExternalData)</code> function call.</p>
<pre><code class="lang-javascript">define(<span class="hljs-string">&apos;@weex-component/a&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{
  <span class="hljs-comment">// content of composed component &lt;a&gt;</span>
})

define(<span class="hljs-string">&apos;@weex-component/b&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">require, exports, module</span>) </span>{
  <span class="hljs-comment">// content of composed component &lt;b&gt;</span>
})

bootstrap(<span class="hljs-string">&apos;@weex-component/b&apos;</span>)
</code></pre>
<p>As the sample above, the component name should be hyphenated (a-z, 0-9, &quot;-&quot;). Other characters are not allowed.</p>
<p>And, the method call <code>bootstrap()</code> allows 1~3 parameters: root module name (String), config info (optional JSON) and external data (optional JSON).</p>
<h3 id="content-of-composed-components">Content of Composed Components</h3>
<p>A module of composed component contains 3 parts: whole options definition, additional template option definition and additional style option definition.</p>
<ul>
<li>whole options is a piece of JavaScript code to put component options (except <code>template</code> option and <code>style</code> option) into <code>module.exports</code></li>
<li><code>template</code> option is a piece of JSON-like object assigned to <code>module.exports.template</code> which describes the display structure of this component</li>
<li><code>style</code> option is a piece of JSON object assigned to <code>module.exports.style</code> which describes the reusable styles in this component</li>
</ul>
<p>The <code>template</code> option is required and appeared only once, and the <code>style</code> option and whole options definition are optional.</p>
<p>These options are defined and transformed by Transformer. Actually you can also ignore all the format limitation and write options to <code>module.exports</code> as the same result if you are not going to use Transformer. But that&apos;s not recommended.</p>
<h4 id="details-of-template-option-definitions">Details of template option definitions</h4>
<p>A piece of multi-level embedded JSON-like object which describes the view structure.</p>
<p>Every level JSON-like object has these members below:</p>
<ul>
<li><code>type</code>: a required string, component name/type</li>
<li><code>component</code>: an optional boolean, whether this component is composed or native</li>
<li><code>attr</code>: an optional k-v pairs which contains all attributes of an element, the value could be a string, number, boolean or a function that bind some data value</li>
<li><code>style</code>: an optional k-v pairs which contains all styles of an element, just the same format as the <code>attr</code></li>
<li><code>classList</code>: an optional array of strings which contains class names for styling.</li>
<li><code>events</code>: an optional k-v pairs whose keys are event type and values are corresponding method names</li>
<li><code>children</code>: an optional array of child components info</li>
<li><code>append</code>: an optional string which determines a compiling workflow strategy: append node-by-node singly or a whole node tree just one time. the default value is <code>node</code> and another supported value is <code>tree</code>.</li>
<li><code>shown</code>: a optional function which returns a boolean value to determine whether this component should be displayed</li>
<li><code>repeat</code>: a optional function which returns a list data to displays components with each</li>
</ul>
<p><strong>Corresponding Keys to Weex Transformer:</strong></p>
<ul>
<li>tag <code>name</code> in Weex file corresponds to <code>type</code></li>
<li>attr <code>if</code> in Weex file corresponds to <code>shown</code></li>
<li>attr <code>repeat</code> in Weex file corresponds to <code>repeat</code></li>
<li>attr <code>append</code> in Weex file corresponds to <code>append</code></li>
<li>attr <code>style</code> in Weex file with CSS syntax corresponds to <code>style</code></li>
<li>attr <code>class</code> in Weex file with class names separated by blanks corresponds to <code>classList</code></li>
<li>attr <code>on***</code> in Weex file with prefix <code>on</code> corresponds to a k-v pair in <code>events</code></li>
<li>other attributes in Weex file corresponds to <code>attr</code></li>
<li>Child nodes in Weex file corresponds to <code>children</code></li>
</ul>
<p>All tag names, attr names are case-insensitive and transformed to lower-cased. But the attr values are case-sensitive.</p>
<h4 id="details-of-style-option-definitions">Details of style option definitions</h4>
<p>Just a two-levels JSON object.</p>
<ul>
<li>The first levels are class names.</li>
<li>The second levels are k-v pairs which describes style names &amp; properties for each class name.</li>
</ul>
<p><strong>Corresponding Keys to Weex Transformer:</strong></p>
<ul>
<li>class name corresponds to first level keys</li>
<li>prop name corresponds to second level keys</li>
<li>prop value corresponds to second level values</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class="search-results-count"></span> results matching &quot;<span class="search-query"></span>&quot;</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching &quot;<span class="search-query"></span>&quot;</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="js-framework-apis.html" class="navigation navigation-next navigation-unique" aria-label="Next page: JS Framework APIs">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"JS Bundle Format","level":"1.3.6.1","depth":3,"next":{"title":"JS Framework APIs","level":"1.3.6.2","depth":3,"path":"specs/js-framework-apis.md","ref":"specs/js-framework-apis.md","articles":[]},"previous":{"title":"Low-level Specs","level":"1.3.6","depth":2,"ref":"","articles":[{"title":"JS Bundle Format","level":"1.3.6.1","depth":3,"path":"specs/js-bundle-format.md","ref":"specs/js-bundle-format.md","articles":[]},{"title":"JS Framework APIs","level":"1.3.6.2","depth":3,"path":"specs/js-framework-apis.md","ref":"specs/js-framework-apis.md","articles":[]},{"title":"Virtual DOM APIs","level":"1.3.6.3","depth":3,"path":"specs/virtual-dom-apis.md","ref":"specs/virtual-dom-apis.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["header","disqus","heading-anchors"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"disqus":{"useIdentifier":false,"shortName":"weex-doc"},"search":{},"layout":{"headerPath":"_layouts/header.html"},"lunr":{"maxIndexSize":1000000},"header":{},"fontsettings":{"theme":"white","family":"sans","size":2},"heading-anchors":{},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Weex","gitbook":"3.1.1","description":"Weex Document Site"},"file":{"path":"specs/js-bundle-format.md","mtime":"2016-09-08T05:01:32.676Z","type":"markdown"},"gitbook":{"version":"3.1.1","time":"2016-09-08T05:01:46.840Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.1/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-heading-anchors/anchor-style.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

